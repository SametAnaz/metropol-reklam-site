=============================================================================
METROPOL REKLAM - FIREBASE ENVIRONMENT VARIABLES SETUP GUIDE
=============================================================================

1. .env.local DOSYASINDA TANIMLANMASI GEREKEN DEÄIÅKENLER:
=============================================================================

AÅŸaÄŸÄ±daki satÄ±rlarÄ± .env.local dosyasÄ±na ekleyin:

# Firebase Configuration
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyDFBZIrWuxcBzJxsJoLsjt2pY-9CIbr-f0
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=metropol-reklam.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=metropol-reklam
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=metropol-reklam.firebasestorage.app
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=481863979305
NEXT_PUBLIC_FIREBASE_APP_ID=1:481863979305:web:91a18d019cb2fa9fc32738

# NextAuth Secret (gÃ¼venlik iÃ§in)
NEXTAUTH_SECRET=your_random_secret_key_here
NEXTAUTH_URL=http://localhost:3000

=============================================================================
2. FIREBASE AUTHENTICATION VE FIRESTORE KURULUMU:
=============================================================================

A) Authentication Kurulumu:
-------------------------
1. Firebase Console â†’ Authentication â†’ Sign-in method
2. "Email/Password" provider'Ä± etkinleÅŸtirin
3. "Save" butonuna tÄ±klayÄ±n

B) Firestore Database Kurulumu:
-----------------------------
1. Firebase Console â†’ Firestore Database
2. "Create Database" butonuna tÄ±klayÄ±n
3. Production mode'u seÃ§in
4. BÃ¶lge olarak "eur3 (europe-west)" seÃ§in
5. "Enable" butonuna tÄ±klayÄ±n

C) Firestore GÃ¼venlik KurallarÄ±:
------------------------------
Firebase Console â†’ Firestore Database â†’ Rules sekmesine aÅŸaÄŸÄ±daki kurallarÄ± ekleyin:

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // YardÄ±mcÄ± fonksiyonlar
    function isAuthenticated() {
      return request.auth != null;
    }
    
    function isUserAuthenticated(userId) {
      return isAuthenticated() && request.auth.uid == userId;
    }
    
    function getUserData() {
      return get(/databases/$(database)/documents/users/$(request.auth.uid)).data;
    }
    
    function isAdmin() {
      return isAuthenticated() && getUserData().role == 'admin';
    }
    
    // Users koleksiyonu kurallarÄ±
    match /users/{userId} {
      // Okuma kurallarÄ±:
      // - KullanÄ±cÄ± kendi belgesini okuyabilir
      // - Adminler tÃ¼m kullanÄ±cÄ±larÄ± okuyabilir
      allow read: if isUserAuthenticated(userId) || isAdmin();
      
      // OluÅŸturma kurallarÄ±:
      // - Yeni kayÄ±t olan kullanÄ±cÄ± kendi belgesini oluÅŸturabilir
      // - Sadece 'user' rolÃ¼ ile oluÅŸturulabilir
      allow create: if isUserAuthenticated(userId) 
        && request.resource.data.role == 'user'
        && request.resource.data.email == request.auth.token.email;
      
      // GÃ¼ncelleme kurallarÄ±:
      // - KullanÄ±cÄ±lar kendi bilgilerini gÃ¼ncelleyebilir (rol hariÃ§)
      // - Adminler tÃ¼m kullanÄ±cÄ±larÄ±n bilgilerini gÃ¼ncelleyebilir
      allow update: if (isUserAuthenticated(userId) 
        && request.resource.data.role == resource.data.role)
        || isAdmin();
      
      // Silme kurallarÄ±:
      // - Sadece adminler kullanÄ±cÄ± silebilir
      allow delete: if isAdmin();
    }
  }
}
```

=============================================================================
3. KULLANICI ROLLERÄ° VE YÃ–NETÄ°MÄ°:
=============================================================================

A) VarsayÄ±lan KullanÄ±cÄ± KaydÄ±:
----------------------------
- Yeni kayÄ±t olan her kullanÄ±cÄ± otomatik olarak "user" rolÃ¼ ile kaydedilir
- KullanÄ±cÄ± bilgileri hem Authentication hem de Firestore'a kaydedilir

B) Admin RolÃ¼ Atama:
------------------
1. Firebase Console â†’ Firestore Database â†’ users koleksiyonu
2. Ä°lgili kullanÄ±cÄ±nÄ±n dokÃ¼manÄ±nÄ± bulun
3. "role" alanÄ±nÄ± "admin" olarak gÃ¼ncelleyin
4. DeÄŸiÅŸikliÄŸi kaydedin

NOT: Rol deÄŸiÅŸikliÄŸi anÄ±nda etkili olur, kullanÄ±cÄ±nÄ±n yeniden giriÅŸ yapmasÄ±na gerek yoktur.

=============================================================================
4. GÃœVENLÄ°K NOTLARI:
=============================================================================

- KullanÄ±cÄ±lar kendi rollerini deÄŸiÅŸtiremezler
- Sadece adminler diÄŸer kullanÄ±cÄ±larÄ±n rollerini deÄŸiÅŸtirebilir
- Authentication ve Firestore senkronize Ã§alÄ±ÅŸÄ±r
- TÃ¼m iÅŸlemler gÃ¼venlik kurallarÄ± ile korunur

=============================================================================
5. HATA DURUMUNDA KONTROL LÄ°STESÄ°:
=============================================================================

1. Authentication'da kullanÄ±cÄ±nÄ±n var olduÄŸunu kontrol edin
2. Firestore'da users/{userId} dokÃ¼manÄ±nÄ±n var olduÄŸunu kontrol edin
3. Firestore kurallarÄ±nÄ±n doÄŸru yapÄ±landÄ±rÄ±ldÄ±ÄŸÄ±nÄ± kontrol edin
4. KullanÄ±cÄ± rolÃ¼nÃ¼n doÄŸru atandÄ±ÄŸÄ±nÄ± kontrol edin

=============================================================================
6. FIREBASE CONFIGURATION BÄ°LGÄ°LERÄ° (HAZIR):
=============================================================================

âœ… Firebase projeniz zaten oluÅŸturulmuÅŸ! AÅŸaÄŸÄ±daki bilgiler alÄ±nmÄ±ÅŸ:

const firebaseConfig = {
  apiKey: "AIzaSyDFBZIrWuxcBzJxsJoLsjt2pY-9CIbr-f0",
  authDomain: "metropol-reklam.firebaseapp.com",
  projectId: "metropol-reklam", 
  storageBucket: "metropol-reklam.firebasestorage.app",
  messagingSenderId: "481863979305",
  appId: "1:481863979305:web:91a18d019cb2fa9fc32738"
};

Bu bilgiler yukarÄ±daki .env.local deÄŸiÅŸkenlerine karÅŸÄ±lÄ±k gelir.

=============================================================================
7. FIREBASE AUTHENTICATION KURULUMU (YAPILMASI GEREKEN):
=============================================================================

âœ… ADIM 1: Firebase Console'a gidin
- https://console.firebase.google.com/ adresine gidin
- "metropol-reklam" projenizi seÃ§in

âš ï¸ ADIM 2: Authentication'Ä± etkinleÅŸtirin
- Sol menÃ¼den "Authentication" seÃ§in
- "Get started" butonuna tÄ±klayÄ±n (eÄŸer henÃ¼z etkinleÅŸtirilmemiÅŸse)

âš ï¸ ADIM 3: Sign-in method'larÄ± etkinleÅŸtirin
- "Sign-in method" sekmesine gidin
- "Email/Password" seÃ§eneÄŸini bulun
- "Enable" toggleÄ±nÄ± aÃ§Ä±n ve "Save" edin

âš ï¸ ADIM 4: Ä°lk admin kullanÄ±cÄ±sÄ±nÄ± oluÅŸturun
- "Users" sekmesine gidin
- "Add user" butonuna tÄ±klayÄ±n
- Admin email ve ÅŸifresini girin (Ã¶rn: admin@metropolreklam.com)
- Bu admin hesabÄ±yla /admin/login sayfasÄ±ndan giriÅŸ yapabilirsiniz

=============================================================================
8. NEXTAUTH_SECRET OLUÅTURMA:
=============================================================================

GÃ¼venli bir secret key oluÅŸturmak iÃ§in aÅŸaÄŸÄ±daki yÃ¶ntemlerden birini kullanÄ±n:

YÃ–NTEM 1: Online generator kullanÄ±n
- https://generate-secret.vercel.app/32 adresine gidin
- OluÅŸturulan key'i kopyalayÄ±n

YÃ–NTEM 2: Terminal'de oluÅŸturun
- Terminal aÃ§Ä±n ve ÅŸu komutu Ã§alÄ±ÅŸtÄ±rÄ±n:
  openssl rand -base64 32

YÃ–NTEM 3: Node.js ile oluÅŸturun
- Terminal'de ÅŸu komutu Ã§alÄ±ÅŸtÄ±rÄ±n:
  node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"

=============================================================================
9. TAM .env.local DOSYASI (HAZIR KULLANIM):
=============================================================================

AÅŸaÄŸÄ±daki iÃ§eriÄŸi kopyalayÄ±p .env.local dosyasÄ±na yapÄ±ÅŸtÄ±rÄ±n:

# Firebase Configuration (Metropol Reklam)
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyDFBZIrWuxcBzJxsJoLsjt2pY-9CIbr-f0
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=metropol-reklam.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=metropol-reklam
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=metropol-reklam.firebasestorage.app
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=481863979305
NEXT_PUBLIC_FIREBASE_APP_ID=1:481863979305:web:91a18d019cb2fa9fc32738

# NextAuth Configuration (NEXTAUTH_SECRET'i deÄŸiÅŸtirin!)
NEXTAUTH_SECRET=P8fJ3kL9mN2qR5sT7vW0xY1zA4bC6dE8
NEXTAUTH_URL=http://localhost:3000

âš ï¸ Ã–NEMLÄ°: NEXTAUTH_SECRET deÄŸerini yukarÄ±daki yÃ¶ntemlerden biriyle oluÅŸturduÄŸunuz 
gÃ¼venli bir key ile deÄŸiÅŸtirin!

=============================================================================
10. HIZLI KURULUM ADIMLARÄ±:
=============================================================================

1. âœ… Firebase projesi oluÅŸturuldu â†’ TAMAM
2. âœ… Web app kaydedildi â†’ TAMAM
3. âš ï¸ .env.local dosyasÄ± oluÅŸturun â†’ YAPILACAK
4. âš ï¸ NEXTAUTH_SECRET oluÅŸturun â†’ YAPILACAK
5. âš ï¸ Firebase Authentication'Ä± etkinleÅŸtirin â†’ YAPILACAK
6. âš ï¸ Email/Password provider'Ä±nÄ± aÃ§Ä±n â†’ YAPILACAK
7. âš ï¸ Ä°lk admin kullanÄ±cÄ±sÄ± oluÅŸturun â†’ YAPILACAK
8. âš ï¸ Dev server'Ä± yeniden baÅŸlatÄ±n â†’ YAPILACAK

=============================================================================
11. PRODUCTION Ä°Ã‡Ä°N EK AYARLAR:
=============================================================================

Production ortamÄ±nda:
- NEXTAUTH_URL'yi gerÃ§ek domain'inizle deÄŸiÅŸtirin (Ã¶rn: https://metropolreklam.com)
- Firebase Console'da "Authorized domains" listesine production domain'inizi ekleyin:
  - Authentication â†’ Settings â†’ Authorized domains â†’ "Add domain"

=============================================================================
12. TEST ETMEK Ä°Ã‡Ä°N:
=============================================================================

1. .env.local dosyasÄ±nÄ± proje root dizinine oluÅŸturun
2. YukarÄ±daki deÄŸerleri kopyalayÄ±p yapÄ±ÅŸtÄ±rÄ±n
3. NEXTAUTH_SECRET'i gÃ¼venli bir deÄŸerle deÄŸiÅŸtirin
4. Firebase Authentication kurulumunu tamamlayÄ±n
5. Development server'Ä± yeniden baÅŸlatÄ±n: npm run dev
6. http://localhost:3000 adresine gidin
7. Navbar'daki "MÃ¼ÅŸteri GiriÅŸi" butonunu test edin
8. Yeni hesap oluÅŸturmayÄ± deneyin

=============================================================================
13. SORUN GÄ°DERME:
=============================================================================

âŒ "Firebase not initialized" hatasÄ±:
- .env.local dosyasÄ±nÄ±n proje root dizininde olduÄŸundan emin olun
- Development server'Ä± yeniden baÅŸlatÄ±n (Ctrl+C, sonra npm run dev)

âŒ "Auth domain not authorized" hatasÄ±:
- Firebase Console â†’ Authentication â†’ Settings â†’ Authorized domains
- localhost'un listede olduÄŸundan emin olun

âŒ "Email/password provider not enabled" hatasÄ±:
- Firebase Console â†’ Authentication â†’ Sign-in method
- Email/Password'Ã¼n enabled olduÄŸundan emin olun

=============================================================================

ğŸ‰ Firebase kurulumu tamamlandÄ±ktan sonra mÃ¼ÅŸteri giriÅŸ sistemi tamamen 
Ã§alÄ±ÅŸÄ±r durumda olacak!

Herhangi bir sorun yaÅŸarsanÄ±z Firebase Console'un sol alt kÃ¶ÅŸesindeki 
"?" iÅŸaretinden yardÄ±m alabilir veya Firebase documentation'Ä±na 
baÅŸvurabilirsiniz: https://firebase.google.com/docs

============================================================================= 
       email: "admin@metropolreklam.com" (oluÅŸturduÄŸunuz email)
       role: "admin"
       createdAt: [timestamp ÅŸu anki zaman]

=============================================================================
MANUEL KOLEKSÄ°YON OLUÅTURMA ADIMLARI:
=============================================================================

EÄŸer otomatik koleksiyon oluÅŸturma Ã§alÄ±ÅŸmazsa, manuel olarak ÅŸu adÄ±mlarÄ± izleyin:

1. Firebase Console'a gidin (https://console.firebase.google.com)
2. Projenizi seÃ§in
3. Sol menÃ¼den "Firestore Database" seÃ§in
4. "Start collection" veya "Koleksiyon baÅŸlat" butonuna tÄ±klayÄ±n
5. Collection ID olarak "users" yazÄ±n
6. "Next" veya "Ä°leri" butonuna tÄ±klayÄ±n
7. Ä°lk dokÃ¼man iÃ§in:
   - Document ID: "Auto-ID" seÃ§eneÄŸini kullanÄ±n
   - Alanlar:
     - Field: email, Type: string, Value: admin@metropolreklam.com
     - Field: role, Type: string, Value: admin
     - Field: createdAt, Type: timestamp, Value: [current timestamp]
     - Field: updatedAt, Type: timestamp, Value: [current timestamp]
8. "Save" veya "Kaydet" butonuna tÄ±klayÄ±n

NOT: Bu adÄ±mlarÄ± sadece koleksiyon otomatik oluÅŸmazsa uygulayÄ±n.
Normalde uygulama ilk kullanÄ±cÄ± kaydÄ±nda koleksiyonu otomatik oluÅŸturacaktÄ±r.

=============================================================================